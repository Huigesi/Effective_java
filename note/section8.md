>个人读书笔记，部分没读懂的知识点可能会简单概括或缺失，以后反复阅读后再完善。


# 第8章 通用程序设计

## 第45条：将局部变量的作用域最小化

最有力的方法就是在第一次使用它的地方声明。或者使方法小而集中。

## 第46条：for-each循环优先于传统的for循环

for-each不会有性能上的损失。for-each对数组索引的边界值只计算一次。

for-each在简洁性和预防Bug有优势。

有三种情况无法使用for-each循环：

**1、过滤**

如果需要遍历集合，并删除选定的元素，就需要显式的迭代器，以便可以调用remove方法。

**2、转换**

如果需要遍历列表或者数组，并取代它部分或者全部的元素值，就要列表迭代器或者数组索引，以便设置元素值。

**3、平行迭代**

如果需要并行地遍历多个集合，就需要显式地控制迭代器或者索引变量，以便所有迭代器或者索引变量都可以得到同步前移。

## 第47条：了解和使用类库

使用帮助类库可以充分利用别人的经验。不必浪费时间在底层的细节上。标准类库的性能往往会随时间的推移而不断提高。
也可以使自己的代码融入主流。

## 第48条：如果需要精确的答案，请避免使用float和double

float和double类型主要是为了科学计算和工程计算而设计的。它们执行二进制浮点运算。
float和double类型尤其不适合用于货币计算。

如果需要有舍入行为，推荐使用BigDecimal,如果涉及数额不大，不介意记录十进制小数点，就可以使用int或long。

如果数值范围不超过9位十进制数字，就可以使用int；如果不超过18位，就使用long，如果超过18位，就使用BigDecimal。

## 第49条： 基本类型优于装箱基本类型

基本类型只有值，而装箱基本类型具有与它们的值不同的同一性。

基本类型只有功能完备的值，而每个装箱基本类型还有个非功能值：null。

基本类型比装箱基本类型更节省时间和空间。

## 第50条： 如果其他类型更适合，则尽量避免使用字符串

**字符串不适合代替其他的值类型**

**字符串不适合代替枚举类型**

**字符串不适合代替聚集类型**

一个实体有多个组件，用字符串的话，访问单独的域时还要解析字符串

**字符串也不适合代替能力表（capabilities）**

## 第51条： 当心字符串连接的性能

不要使用字符串连接操作符来合并多个字符串，除非性能无关紧要。
相反，应该使用StringBuilder的append方法。

## 第52条： 通过接口引用对象

如果有合适的接口类型存在，那么对于参数、返回值、变量和域来说，就都应该使用接口类型进行声明。

## 第53条： 接口优先于反射机制

反射机制允许一个类使用另一个类，即使当前者被编译时后者还根本不存在。
坏处：丧失了编译时类型检查的好处。执行反射访问所需要的代码非常笨拙和冗长。
性能有所损失。

## 第54条： 谨慎地使用本地方法

本地方法是指用**本地程序设计语言（比如C或者C++）** 来编写的特殊方法。

## 第55条： 谨慎地进行优化

## 第56条： 遵守普遍接受的命名惯例



